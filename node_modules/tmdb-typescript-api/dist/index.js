"use strict";function createCommonjsModule(e,r){return r={exports:{}},e(r,r.exports),r.exports}function isFunction(e){return"function"==typeof e}function isObject(e){return null!=e&&"object"==typeof e}function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject.errorObject.e=e,errorObject.errorObject}}function tryCatch(e){return tryCatchTarget=e,tryCatcher}function flattenUnsubscriptionErrors(e){return e.reduce(function(e,r){return e.concat(r instanceof UnsubscriptionError_1.UnsubscriptionError?r.errors:r)},[])}function toSubscriber(e,r,t){if(e){if(e instanceof Subscriber_1.Subscriber)return e;if(e[rxSubscriber.rxSubscriber])return e[rxSubscriber.rxSubscriber]()}return e||r||t?new Subscriber_1.Subscriber(e,r,t):new Subscriber_1.Subscriber(Observer.empty)}function map(e,r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new MapOperator(e,r))}function getCORSRequest(){if(root.root.XMLHttpRequest)return new root.root.XMLHttpRequest;if(root.root.XDomainRequest)return new root.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function getXMLHttpRequest(){if(root.root.XMLHttpRequest)return new root.root.XMLHttpRequest;var e=void 0;try{for(var r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=0;t<3;t++)try{if(e=r[t],new root.root.ActiveXObject(e))break}catch(e){}return new root.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function ajaxGet(e,r){return void 0===r&&(r=null),new AjaxObservable({method:"GET",url:e,headers:r})}function ajaxPost(e,r,t){return new AjaxObservable({method:"POST",url:e,body:r,headers:t})}function ajaxDelete(e,r){return new AjaxObservable({method:"DELETE",url:e,headers:r})}function ajaxPut(e,r,t){return new AjaxObservable({method:"PUT",url:e,body:r,headers:t})}function ajaxPatch(e,r,t){return new AjaxObservable({method:"PATCH",url:e,body:r,headers:t})}function ajaxGetJSON(e,r){return new AjaxObservable({method:"GET",url:e,responseType:"json",headers:r}).lift(new map_1.MapOperator(function(e,r){return e.response},null))}function isPromise(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function dispatchNext(e){var r=e.value,t=e.subscriber;t.closed||(t.next(r),t.complete())}function dispatchError(e){var r=e.err,t=e.subscriber;t.closed||t.error(r)}function getIterator(e){var r=e[iterator.iterator];if(!r&&"string"==typeof e)return new StringIterator(e);if(!r&&void 0!==e.length)return new ArrayIterator(e);if(!r)throw new TypeError("object is not iterable");return e[iterator.iterator]()}function toLength(e){var r=+e.length;return isNaN(r)?0:0!==r&&numberIsFinite(r)?(r=sign(r)*Math.floor(Math.abs(r)))<=0?0:r>maxSafeInteger?maxSafeInteger:r:r}function numberIsFinite(e){return"number"==typeof e&&root.root.isFinite(e)}function sign(e){var r=+e;return 0===r?r:isNaN(r)?r:r<0?-1:1}function isScheduler(e){return e&&"function"==typeof e.schedule}function observeOn(e,r){return void 0===r&&(r=0),this.lift(new ObserveOnOperator(e,r))}function __extends$12(e,r){function t(){this.constructor=e}extendStatics(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}Object.defineProperty(exports,"__esModule",{value:!0});var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},__window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global=void 0!==commonjsGlobal&&commonjsGlobal,_root=__window||__global||__self,root_1=_root;!function(){if(!_root)throw new Error("RxJS could not find any global context (window, self, global)")}();var root={root:root_1},isFunction_2=isFunction,isFunction_1={isFunction:isFunction_2},isArray_1=Array.isArray||function(e){return e&&"number"==typeof e.length},isArray={isArray:isArray_1},isObject_2=isObject,isObject_1={isObject:isObject_2},errorObject_1={e:{}},errorObject={errorObject:errorObject_1},tryCatchTarget,tryCatch_2=tryCatch,tryCatch_1={tryCatch:tryCatch_2},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},UnsubscriptionError=function(e){function r(r){e.call(this),this.errors=r;var t=Error.call(this,r?r.length+" errors occurred during unsubscription:\n  "+r.map(function(e,r){return r+1+") "+e.toString()}).join("\n  "):"");this.name=t.name="UnsubscriptionError",this.stack=t.stack,this.message=t.message}return __extends$1(r,e),r}(Error),UnsubscriptionError_2=UnsubscriptionError,UnsubscriptionError_1={UnsubscriptionError:UnsubscriptionError_2},Subscription=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,r=!1;if(!this.closed){var t=this,o=t._parent,n=t._parents,s=t._unsubscribe,i=t._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,c=n?n.length:0;o;)o.remove(this),o=++a<c&&n[a]||null;if(isFunction_1.isFunction(s)&&(b=tryCatch_1.tryCatch(s).call(this))===errorObject.errorObject&&(r=!0,e=e||(errorObject.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(errorObject.errorObject.e.errors):[errorObject.errorObject.e])),isArray.isArray(i))for(a=-1,c=i.length;++a<c;){var u=i[a];if(isObject_1.isObject(u)){var b=tryCatch_1.tryCatch(u.unsubscribe).call(u);if(b===errorObject.errorObject){r=!0,e=e||[];var l=errorObject.errorObject.e;l instanceof UnsubscriptionError_1.UnsubscriptionError?e=e.concat(flattenUnsubscriptionErrors(l.errors)):e.push(l)}}}if(r)throw new UnsubscriptionError_1.UnsubscriptionError(e)}},e.prototype.add=function(r){if(!r||r===e.EMPTY)return e.EMPTY;if(r===this)return this;var t=r;switch(typeof r){case"function":t=new e(r);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){var o=t;(t=new e)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t},e.prototype.remove=function(e){var r=this._subscriptions;if(r){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}},e.prototype._addParent=function(e){var r=this,t=r._parent,o=r._parents;t&&t!==e?o?-1===o.indexOf(e)&&o.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),Subscription_2=Subscription,Subscription_1={Subscription:Subscription_2},empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}},Observer={empty:empty},rxSubscriber=createCommonjsModule(function(e,r){var t=root.root.Symbol;r.rxSubscriber="function"==typeof t&&"function"==typeof t.for?t.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber}),__extends=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},Subscriber=function(e){function r(t,o,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer.empty;break;case 1:if(!t){this.destination=Observer.empty;break}if("object"==typeof t){t instanceof r?(this.destination=t,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,t,o,n)}}return __extends(r,e),r.prototype[rxSubscriber.rxSubscriber]=function(){return this},r.create=function(e,t,o){var n=new r(e,t,o);return n.syncErrorThrowable=!1,n},r.prototype.next=function(e){this.isStopped||this._next(e)},r.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var e=this,r=e._parent,t=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=t,this},r}(Subscription_1.Subscription),Subscriber_2=Subscriber,SafeSubscriber=function(e){function r(r,t,o,n){e.call(this),this._parentSubscriber=r;var s,i=this;isFunction_1.isFunction(t)?s=t:t&&(s=t.next,o=t.error,n=t.complete,t!==Observer.empty&&(i=Object.create(t),isFunction_1.isFunction(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=s,this._error=o,this._complete=n}return __extends(r,e),r.prototype.next=function(e){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},r.prototype.error=function(e){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),e;r.syncErrorValue=e,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){var e=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var t=function(){return e._complete.call(e._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(e,r){try{e.call(this._context,r)}catch(e){throw this.unsubscribe(),e}},r.prototype.__tryOrSetError=function(e,r,t){try{r.call(this._context,t)}catch(r){return e.syncErrorValue=r,e.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},r}(Subscriber),Subscriber_1={Subscriber:Subscriber_2},toSubscriber_2=toSubscriber,toSubscriber_1={toSubscriber:toSubscriber_2},observable=createCommonjsModule(function(e,r){function t(e){var r,t=e.Symbol;return"function"==typeof t?t.observable?r=t.observable:(r=t("observable"),t.observable=r):r="@@observable",r}r.getSymbolObservable=t,r.observable=t(root.root),r.$$observable=r.observable}),Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(e,r,t){var o=this.operator,n=toSubscriber_1.toSubscriber(e,r,t);if(o?o.call(n,this.source):n.add(this.source?this._subscribe(n):this._trySubscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.syncErrorThrown=!0,e.syncErrorValue=r,e.error(r)}},e.prototype.forEach=function(e,r){var t=this;if(r||(root.root.Rx&&root.root.Rx.config&&root.root.Rx.config.Promise?r=root.root.Rx.config.Promise:root.root.Promise&&(r=root.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(r,o){var n;n=t.subscribe(function(r){if(n)try{e(r)}catch(e){o(e),n.unsubscribe()}else e(r)},o,r)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[observable.observable]=function(){return this},e.create=function(r){return new e(r)},e}(),Observable_2=Observable,Observable_1={Observable:Observable_2},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},map_2=map,MapOperator=function(){function e(e,r){this.project=e,this.thisArg=r}return e.prototype.call=function(e,r){return r.subscribe(new MapSubscriber(e,this.project,this.thisArg))},e}(),MapOperator_1=MapOperator,MapSubscriber=function(e){function r(r,t,o){e.call(this,r),this.project=t,this.count=0,this.thisArg=o||this}return __extends$3(r,e),r.prototype._next=function(e){var r;try{r=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(Subscriber_1.Subscriber),map_1={map:map_2,MapOperator:MapOperator_1},__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},ajaxGet_1=ajaxGet,ajaxPost_1=ajaxPost,ajaxDelete_1=ajaxDelete,ajaxPut_1=ajaxPut,ajaxPatch_1=ajaxPatch,ajaxGetJSON_1=ajaxGetJSON,AjaxObservable=function(e){function r(r){e.call(this);var t={async:!0,createXHR:function(){return this.crossDomain?getCORSRequest.call(this):getXMLHttpRequest()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof r)t.url=r;else for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);this.request=t}return __extends$2(r,e),r.prototype._subscribe=function(e){return new AjaxSubscriber(e,this.request)},r.create=function(){var e=function(e){return new r(e)};return e.get=ajaxGet,e.post=ajaxPost,e.delete=ajaxDelete,e.put=ajaxPut,e.patch=ajaxPatch,e.getJSON=ajaxGetJSON,e}(),r}(Observable_1.Observable),AjaxObservable_2=AjaxObservable,AjaxSubscriber=function(e){function r(r,t){e.call(this,r),this.request=t,this.done=!1;var o=t.headers=t.headers||{};t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in o||root.root.FormData&&t.body instanceof root.root.FormData||void 0===t.body||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),t.body=this.serializeBody(t.body,t.headers["Content-Type"]),this.send()}return __extends$2(r,e),r.prototype.next=function(e){this.done=!0;var r=this,t=r.xhr,o=r.request,n=r.destination,s=new AjaxResponse(e,t,o);n.next(s)},r.prototype.send=function(){var e=this,r=e.request,t=e.request,o=t.user,n=t.method,s=t.url,i=t.async,a=t.password,c=t.headers,u=t.body,b=r.createXHR,l=tryCatch_1.tryCatch(b).call(r);if(l===errorObject.errorObject)this.error(errorObject.errorObject.e);else{this.xhr=l,this.setupEvents(l,r);if((o?tryCatch_1.tryCatch(l.open).call(l,n,s,i,o,a):tryCatch_1.tryCatch(l.open).call(l,n,s,i))===errorObject.errorObject)return this.error(errorObject.errorObject.e),null;if(i&&(l.timeout=r.timeout,l.responseType=r.responseType),"withCredentials"in l&&(l.withCredentials=!!r.withCredentials),this.setHeaders(l,c),(u?tryCatch_1.tryCatch(l.send).call(l,u):tryCatch_1.tryCatch(l.send).call(l))===errorObject.errorObject)return this.error(errorObject.errorObject.e),null}return l},r.prototype.serializeBody=function(e,r){if(!e||"string"==typeof e)return e;if(root.root.FormData&&e instanceof root.root.FormData)return e;if(r){var t=r.indexOf(";");-1!==t&&(r=r.substring(0,t))}switch(r){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(r){return encodeURI(r)+"="+encodeURI(e[r])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},r.prototype.setHeaders=function(e,r){for(var t in r)r.hasOwnProperty(t)&&e.setRequestHeader(t,r[t])},r.prototype.setupEvents=function(e,r){function t(e){var r=t,o=r.subscriber,n=r.progressSubscriber,s=r.request;n&&n.error(e),o.error(new AjaxTimeoutError(this,s))}function o(e){var r=o,t=r.subscriber,n=r.progressSubscriber,s=r.request;if(4===this.readyState){var i=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;0===i&&(i=a?200:0),200<=i&&i<300?(n&&n.complete(),t.next(e),t.complete()):(n&&n.error(e),t.error(new AjaxError("ajax error "+i,this,s)))}}var n=r.progressSubscriber;if(e.ontimeout=t,t.request=r,t.subscriber=this,t.progressSubscriber=n,e.upload&&"withCredentials"in e){if(n){var s;s=function(e){s.progressSubscriber.next(e)},root.root.XDomainRequest?e.onprogress=s:e.upload.onprogress=s,s.progressSubscriber=n}var i;i=function(e){var r=i,t=r.progressSubscriber,o=r.subscriber,n=r.request;t&&t.error(e),o.error(new AjaxError("ajax error",this,n))},e.onerror=i,i.request=r,i.subscriber=this,i.progressSubscriber=n}e.onreadystatechange=o,o.subscriber=this,o.progressSubscriber=n,o.request=r},r.prototype.unsubscribe=function(){var r=this,t=r.done,o=r.xhr;!t&&o&&4!==o.readyState&&"function"==typeof o.abort&&o.abort(),e.prototype.unsubscribe.call(this)},r}(Subscriber_1.Subscriber),AjaxSubscriber_1=AjaxSubscriber,AjaxResponse=function(){return function(e,r,t){switch(this.originalEvent=e,this.xhr=r,this.request=t,this.status=r.status,this.responseType=r.responseType||t.responseType,this.responseType){case"json":this.response="response"in r?r.responseType?r.response:JSON.parse(r.response||r.responseText||"null"):JSON.parse(r.responseText||"null");break;case"xml":this.response=r.responseXML;break;case"text":default:this.response="response"in r?r.response:r.responseText}}}(),AjaxResponse_1=AjaxResponse,AjaxError=function(e){function r(r,t,o){e.call(this,r),this.message=r,this.xhr=t,this.request=o,this.status=t.status}return __extends$2(r,e),r}(Error),AjaxError_1=AjaxError,AjaxTimeoutError=function(e){function r(r,t){e.call(this,"ajax timeout",r,t)}return __extends$2(r,e),r}(AjaxError),AjaxTimeoutError_1=AjaxTimeoutError,AjaxObservable_1={ajaxGet:ajaxGet_1,ajaxPost:ajaxPost_1,ajaxDelete:ajaxDelete_1,ajaxPut:ajaxPut_1,ajaxPatch:ajaxPatch_1,ajaxGetJSON:ajaxGetJSON_1,AjaxObservable:AjaxObservable_2,AjaxSubscriber:AjaxSubscriber_1,AjaxResponse:AjaxResponse_1,AjaxError:AjaxError_1,AjaxTimeoutError:AjaxTimeoutError_1},ajax_1=AjaxObservable_1.AjaxObservable.create,ajax$2={ajax:ajax_1};Observable_1.Observable.ajax=ajax$2.ajax,Observable_1.Observable.prototype.map=map_1.map;var isArrayLike_1=function(e){return e&&"number"==typeof e.length},isArrayLike={isArrayLike:isArrayLike_1},isPromise_2=isPromise,isPromise_1={isPromise:isPromise_2},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},PromiseObservable=function(e){function r(r,t){e.call(this),this.promise=r,this.scheduler=t}return __extends$5(r,e),r.create=function(e,t){return new r(e,t)},r.prototype._subscribe=function(e){var r=this,t=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.closed||(e.next(this.value),e.complete()):t.then(function(t){r.value=t,r._isScalar=!0,e.closed||(e.next(t),e.complete())},function(r){e.closed||e.error(r)}).then(null,function(e){root.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return o.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else t.then(function(t){r.value=t,r._isScalar=!0,e.closed||e.add(o.schedule(dispatchNext,0,{value:t,subscriber:e}))},function(r){e.closed||e.add(o.schedule(dispatchError,0,{err:r,subscriber:e}))}).then(null,function(e){root.root.setTimeout(function(){throw e})})},r}(Observable_1.Observable),PromiseObservable_2=PromiseObservable,PromiseObservable_1={PromiseObservable:PromiseObservable_2},iterator=createCommonjsModule(function(e,r){function t(e){var r=e.Symbol;if("function"==typeof r)return r.iterator||(r.iterator=r("iterator polyfill")),r.iterator;var t=e.Set;if(t&&"function"==typeof(new t)["@@iterator"])return"@@iterator";var o=e.Map;if(o)for(var n=Object.getOwnPropertyNames(o.prototype),s=0;s<n.length;++s){var i=n[s];if("entries"!==i&&"size"!==i&&o.prototype[i]===o.prototype.entries)return i}return"@@iterator"}r.symbolIteratorPonyfill=t,r.iterator=t(root.root),r.$$iterator=r.iterator}),__extends$6=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},IteratorObservable=function(e){function r(r,t){if(e.call(this),this.scheduler=t,null==r)throw new Error("iterator cannot be null.");this.iterator=getIterator(r)}return __extends$6(r,e),r.create=function(e,t){return new r(e,t)},r.dispatch=function(e){var r=e.index,t=e.hasError,o=e.iterator,n=e.subscriber;if(t)n.error(e.error);else{var s=o.next();s.done?n.complete():(n.next(s.value),e.index=r+1,n.closed?"function"==typeof o.return&&o.return():this.schedule(e))}},r.prototype._subscribe=function(e){var t=this,o=t.iterator,n=t.scheduler;if(n)return n.schedule(r.dispatch,0,{index:0,iterator:o,subscriber:e});for(;;){var s=o.next();if(s.done){e.complete();break}if(e.next(s.value),e.closed){"function"==typeof o.return&&o.return();break}}},r}(Observable_1.Observable),IteratorObservable_2=IteratorObservable,StringIterator=function(){function e(e,r,t){void 0===r&&(r=0),void 0===t&&(t=e.length),this.str=e,this.idx=r,this.len=t}return e.prototype[iterator.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),ArrayIterator=function(){function e(e,r,t){void 0===r&&(r=0),void 0===t&&(t=toLength(e)),this.arr=e,this.idx=r,this.len=t}return e.prototype[iterator.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),maxSafeInteger=Math.pow(2,53)-1,IteratorObservable_1={IteratorObservable:IteratorObservable_2},__extends$8=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},ScalarObservable=function(e){function r(r,t){e.call(this),this.value=r,this.scheduler=t,this._isScalar=!0,t&&(this._isScalar=!1)}return __extends$8(r,e),r.create=function(e,t){return new r(e,t)},r.dispatch=function(e){var r=e.done,t=e.value,o=e.subscriber;r?o.complete():(o.next(t),o.closed||(e.done=!0,this.schedule(e)))},r.prototype._subscribe=function(e){var t=this.value,o=this.scheduler;if(o)return o.schedule(r.dispatch,0,{done:!1,value:t,subscriber:e});e.next(t),e.closed||e.complete()},r}(Observable_1.Observable),ScalarObservable_2=ScalarObservable,ScalarObservable_1={ScalarObservable:ScalarObservable_2},__extends$9=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},EmptyObservable=function(e){function r(r){e.call(this),this.scheduler=r}return __extends$9(r,e),r.create=function(e){return new r(e)},r.dispatch=function(e){e.subscriber.complete()},r.prototype._subscribe=function(e){var t=this.scheduler;if(t)return t.schedule(r.dispatch,0,{subscriber:e});e.complete()},r}(Observable_1.Observable),EmptyObservable_2=EmptyObservable,EmptyObservable_1={EmptyObservable:EmptyObservable_2},isScheduler_2=isScheduler,isScheduler_1={isScheduler:isScheduler_2},__extends$7=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},ArrayObservable=function(e){function r(r,t){e.call(this),this.array=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return __extends$7(r,e),r.create=function(e,t){return new r(e,t)},r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var o=e[e.length-1];isScheduler_1.isScheduler(o)?e.pop():o=null;var n=e.length;return n>1?new r(e,o):1===n?new ScalarObservable_1.ScalarObservable(e[0],o):new EmptyObservable_1.EmptyObservable(o)},r.dispatch=function(e){var r=e.array,t=e.index,o=e.count,n=e.subscriber;t>=o?n.complete():(n.next(r[t]),n.closed||(e.index=t+1,this.schedule(e)))},r.prototype._subscribe=function(e){var t=this.array,o=t.length,n=this.scheduler;if(n)return n.schedule(r.dispatch,0,{array:t,index:0,count:o,subscriber:e});for(var s=0;s<o&&!e.closed;s++)e.next(t[s]);e.complete()},r}(Observable_1.Observable),ArrayObservable_2=ArrayObservable,ArrayObservable_1={ArrayObservable:ArrayObservable_2},__extends$10=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},ArrayLikeObservable=function(e){function r(r,t){e.call(this),this.arrayLike=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return __extends$10(r,e),r.create=function(e,t){var o=e.length;return 0===o?new EmptyObservable_1.EmptyObservable:1===o?new ScalarObservable_1.ScalarObservable(e[0],t):new r(e,t)},r.dispatch=function(e){var r=e.arrayLike,t=e.index,o=e.length,n=e.subscriber;n.closed||(t>=o?n.complete():(n.next(r[t]),e.index=t+1,this.schedule(e)))},r.prototype._subscribe=function(e){var t=this,o=t.arrayLike,n=t.scheduler,s=o.length;if(n)return n.schedule(r.dispatch,0,{arrayLike:o,index:0,length:s,subscriber:e});for(var i=0;i<s&&!e.closed;i++)e.next(o[i]);e.complete()},r}(Observable_1.Observable),ArrayLikeObservable_2=ArrayLikeObservable,ArrayLikeObservable_1={ArrayLikeObservable:ArrayLikeObservable_2},Notification=function(){function e(e,r,t){this.kind=e,this.value=r,this.error=t,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,r,t){switch(this.kind){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return t&&t()}},e.prototype.accept=function(e,r,t){return e&&"function"==typeof e.next?this.observe(e):this.do(e,r,t)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable.throw(this.error);case"C":return Observable_1.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(r){return void 0!==r?new e("N",r):e.undefinedValueNotification},e.createError=function(r){return new e("E",void 0,r)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Notification_2=Notification,Notification_1={Notification:Notification_2},__extends$11=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},observeOn_2=observeOn,ObserveOnOperator=function(){function e(e,r){void 0===r&&(r=0),this.scheduler=e,this.delay=r}return e.prototype.call=function(e,r){return r.subscribe(new ObserveOnSubscriber(e,this.scheduler,this.delay))},e}(),ObserveOnOperator_1=ObserveOnOperator,ObserveOnSubscriber=function(e){function r(r,t,o){void 0===o&&(o=0),e.call(this,r),this.scheduler=t,this.delay=o}return __extends$11(r,e),r.dispatch=function(e){var r=e.notification,t=e.destination;r.observe(t),this.unsubscribe()},r.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(r.dispatch,this.delay,new ObserveOnMessage(e,this.destination)))},r.prototype._next=function(e){this.scheduleMessage(Notification_1.Notification.createNext(e))},r.prototype._error=function(e){this.scheduleMessage(Notification_1.Notification.createError(e))},r.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())},r}(Subscriber_1.Subscriber),ObserveOnSubscriber_1=ObserveOnSubscriber,ObserveOnMessage=function(){return function(e,r){this.notification=e,this.destination=r}}(),ObserveOnMessage_1=ObserveOnMessage,observeOn_1={observeOn:observeOn_2,ObserveOnOperator:ObserveOnOperator_1,ObserveOnSubscriber:ObserveOnSubscriber_1,ObserveOnMessage:ObserveOnMessage_1},__extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},FromObservable=function(e){function r(r,t){e.call(this,null),this.ish=r,this.scheduler=t}return __extends$4(r,e),r.create=function(e,t){if(null!=e){if("function"==typeof e[observable.observable])return e instanceof Observable_1.Observable&&!t?e:new r(e,t);if(isArray.isArray(e))return new ArrayObservable_1.ArrayObservable(e,t);if(isPromise_1.isPromise(e))return new PromiseObservable_1.PromiseObservable(e,t);if("function"==typeof e[iterator.iterator]||"string"==typeof e)return new IteratorObservable_1.IteratorObservable(e,t);if(isArrayLike.isArrayLike(e))return new ArrayLikeObservable_1.ArrayLikeObservable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},r.prototype._subscribe=function(e){var r=this.ish,t=this.scheduler;return null==t?r[observable.observable]().subscribe(e):r[observable.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(e,t,0))},r}(Observable_1.Observable),FromObservable_2=FromObservable,FromObservable_1={FromObservable:FromObservable_2},from_1=FromObservable_1.FromObservable.create,from$2={from:from_1};Observable_1.Observable.from=from$2.from;var Helper=function(){function e(){}return e.ajaxObservable=function(e){return Observable_2.ajax({url:e,crossDomain:!0}).map(function(e){return e.response})},e}(),SearchApi=function(){function e(e){this.context=e}return e.prototype.url=function(e,r,t){return this.context.baseUrl+"/search/"+e+"?api_key="+this.context.apiKey+"&language="+this.context.language+"&query="+r+"&page="+t},e.prototype.collections=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("collection",e,r))},e.prototype.companies=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("company",e,r))},e.prototype.keywords=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("keyword",e,r))},e.prototype.movies=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("movie",e,r))},e.prototype.multi=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("multi",e,r))},e.prototype.people=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("person",e,r))},e.prototype.tvshows=function(e,r){return void 0===r&&(r=1),Helper.ajaxObservable(this.url("tv",e,r))},e}(),Context=function(){return function(){this.language="en",this.baseUrl="https://api.themoviedb.org/3"}}(),MoviesApi=function(){function e(e){this.context=e}return e.prototype.details=function(e){var r=this.context.baseUrl+"/movie/"+e+"?api_key="+this.context.apiKey+"&language="+this.context.language;return Helper.ajaxObservable(r)},e}(),CollectionsApi=function(){function e(e){this.context=e}return e.prototype.details=function(e){var r=this.context.baseUrl+"/collection/"+e+"?api_key="+this.context.apiKey+"&language="+this.context.language;return Helper.ajaxObservable(r)},e}(),PeopleApi=function(){function e(e){this.context=e}return e.prototype.details=function(e){var r=this.context.baseUrl+"/person/"+e+"?api_key="+this.context.apiKey+"&language="+this.context.language;return Helper.ajaxObservable(r)},e}(),TvApi=function(){function e(e){this.context=e}return e.prototype.details=function(e){var r=this.context.baseUrl+"/tv/"+e+"?api_key="+this.context.apiKey+"&language="+this.context.language;return Helper.ajaxObservable(r)},e}(),TmdbApi=function(){function e(e,r){void 0===r&&(r="en"),this.context=new Context,this.context.apiKey=e,this.context.language=r}return Object.defineProperty(e.prototype,"search",{get:function(){return this._search||(this._search=new SearchApi(this.context))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"movies",{get:function(){return this._movies||(this._movies=new MoviesApi(this.context))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collections",{get:function(){return this._collections||(this._collections=new CollectionsApi(this.context))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"people",{get:function(){return this._people||(this._people=new PeopleApi(this.context))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tvshows",{get:function(){return this._tvshows||(this._tvshows=new TvApi(this.context))},enumerable:!0,configurable:!0}),e}(),Movie=function(){return function(){}}(),Network=function(){return function(){}}(),Collection=function(){return function(){}}(),Company=function(){return function(){}}(),Language=function(){return function(){}}(),extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])},CollectionDetails=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends$12(r,e),r}(Collection),Country=function(){return function(){}}(),Genre=function(){return function(){}}(),Keyword=function(){return function(){}}(),MovieDetails=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends$12(r,e),r}(Movie),Person=function(){return function(){}}(),PersonDetails=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends$12(r,e),r}(Person),SearchResult=function(){return function(){}}(),Season=function(){return function(){}}(),TvShow=function(){return function(){}}(),TvShowDetails=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.created_by=[],r.episode_run_time=[],r.languages=[],r.networks=[],r.production_companies=[],r.seasons=[],r}return __extends$12(r,e),r}(TvShow);exports.TmdbApi=TmdbApi,exports.Context=Context,exports.Helper=Helper,exports.CollectionsApi=CollectionsApi,exports.MoviesApi=MoviesApi,exports.PeopleApi=PeopleApi,exports.SearchApi=SearchApi,exports.TvApi=TvApi,exports.Movie=Movie,exports.Network=Network,exports.Collection=Collection,exports.Company=Company,exports.Language=Language,exports.CollectionDetails=CollectionDetails,exports.Country=Country,exports.Genre=Genre,exports.Keyword=Keyword,exports.MovieDetails=MovieDetails,exports.PersonDetails=PersonDetails,exports.SearchResult=SearchResult,exports.Person=Person,exports.Season=Season,exports.TvShowDetails=TvShowDetails,exports.TvShow=TvShow;
//# sourceMappingURL=index.js.map
